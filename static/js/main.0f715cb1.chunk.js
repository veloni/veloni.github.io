(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),s=c(7),i=c.n(s),r=(c(12),c(2)),o=(c(13),c(0)),u=function(e){var t=e.switch\u0421hat,c=e.switchChatToFun,a=e.switchChatToWork;return Object(o.jsx)("div",{className:"wrapper-header",children:Object(o.jsxs)("div",{className:"wrapper-info-chat",children:[Object(o.jsxs)("div",{className:"header-wrapper-switch-chat",children:[Object(o.jsx)("span",{className:"icon-chats ".concat(t?"":"active-chat-button"),onClick:function(){return a()},children:"\u0420\u0430\u0431\u043e\u0447\u0438\u0439 \u0447\u0430\u0442"}),Object(o.jsx)("span",{className:"icon-chats ".concat(t?"active-chat-button":""),onClick:function(){return c()},children:"\u0424\u043b\u0443\u0434\u0438\u043b\u044c\u043d\u044f"})]}),Object(o.jsx)("div",{className:"wrapper-button-clear-storage",children:Object(o.jsx)("button",{className:"button-clear-storage",onClick:function(){return localStorage.clear(),void window.location.reload()},children:"ClearStorage"})})]})})},l=c.p+"static/media/smile.7b6c19ca.svg",d=c.p+"static/media/edit.3c70b537.svg",m=c.p+"static/media/close.c39ccb73.svg",j=c.p+"static/media/background.948c2705.svg",f=c.p+"static/media/sticker.f428bf1c.png",p=(c(15),function(e){var t=e.setLocalStorage,c=e.addMessage,a=e.inputMessage,n=e.statePopUpSelectSmile,s=e.setStatePopUpSelectSmile,i=e.addSticker,r=e.editTextState,u=e.closeEditor,p=e.loadBackgroundImage,g=e.deleteBackgroundImage,b=e.length\u0421heck;return Object(o.jsxs)("div",{className:"wrapper-footer",children:[Object(o.jsxs)("div",{className:"wrapper-icon-for-backgrond-image",children:[Object(o.jsx)("div",{className:"wrapper-icon-edit-delete",children:Object(o.jsx)("img",{src:j,className:"icon-footer",alt:"iconAddFiles",onClick:function(){return p()}})}),Object(o.jsx)("div",{className:"wrapper-icon-edit-delete",children:Object(o.jsx)("img",{onClick:function(){return g()},src:m,className:"icon-close",alt:"iconAddFiles"})})]}),Object(o.jsx)("div",{className:"wrapper-text-area-message",children:Object(o.jsx)("textarea",{ref:a,onChange:function(e){return b()},onKeyDown:function(e){return c(e)},className:"text-area-message",placeholder:"Write a message"})}),r&&Object(o.jsxs)("div",{clasname:"wrapper-icon-for-edit",children:[Object(o.jsx)("div",{className:"wrapper-icon-edit-delete",children:Object(o.jsx)("img",{src:d,className:"icon-edit",alt:"iconAddFiles"})}),Object(o.jsx)("div",{className:"wrapper-icon-edit-delete",children:Object(o.jsx)("img",{onClick:function(){return u()},src:m,className:"icon-close",alt:"iconAddFiles"})})]}),Object(o.jsx)("div",{className:"wrapper-icon-footer",children:Object(o.jsx)("img",{onClick:function(){return s(!n)},src:l,title:"smiles",className:"icon-footer",alt:"iconAddFiles"})}),Object(o.jsx)("div",{className:"wrapper-icon-footer",children:Object(o.jsx)("img",{onMouseDown:function(){return i()},onMouseUp:function(){return t()},title:"sticker",src:f,className:"icon-footer",alt:"iconAddFiles"})})]})}),g=c.p+"static/media/search.e8a11f28.svg",b=c.p+"static/media/close.c39ccb73.svg",h=(c(16),function(e){var t=e.inputSearchRef,c=e.searchMessage,a=e.isSearch,n=e.clearSearch,s=e.switch\u0421hat,i=e.foundMessageFunChat,r=e.foundMessageWorkChat,u=e.seeMessage;return Object(o.jsxs)("div",{className:"wrapper-aside",children:[Object(o.jsxs)("div",{className:"wrapper-search-input-icon",children:[Object(o.jsx)("input",{className:"input-search",ref:t,onChange:function(e){return c(e)}}),Object(o.jsx)("div",{className:"wraper-search-icon",children:Object(o.jsx)("img",{src:a?b:g,className:a?"close-icon-search":"icon-search",alt:"iconSearch",onClick:function(){return n()}})})]}),Object(o.jsxs)("div",{className:"wrapper-find-message",children:[s&&!!i&&i.map((function(e,t){return Object(o.jsxs)("div",{className:"wrapper-found-message",onClick:function(t){return u(e.id)},children:[Object(o.jsxs)("div",{className:"wrapper-find-message-nick-name",children:[Object(o.jsx)("div",{className:"wrapper-find-nick-name",children:e.nickName}),Object(o.jsx)("div",{className:"wrapper-find-text-message",children:e.message})]}),Object(o.jsx)("div",{className:"wrapper-time",children:e.date})]},t)})),!s&&!!r&&r.map((function(e,t){return Object(o.jsxs)("div",{className:"wrapper-found-message",onClick:function(t){return u(e.id)},children:[Object(o.jsxs)("div",{className:"wrapper-find-message-nick-name",children:[Object(o.jsx)("div",{className:"wrapper-find-nick-name",children:e.nickName}),Object(o.jsx)("div",{className:"wrapper-find-text-message",children:e.message})]}),Object(o.jsx)("div",{className:"wrapper-time",children:e.date})]},t)}))]})]})}),O=(c(17),function(e){var t=e.mousePositionX,c=e.mousePositionY,a=e.deleteMessage,n=e.editMessage,s=e.popUpEditRef;return Object(o.jsxs)("div",{className:"wrapper-pop-up",ref:s,style:{top:"".concat(parseInt(c)-100,"px"),left:t},children:[Object(o.jsx)("div",{className:"pop-up-edit-delete",onClick:function(){return n()},children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(o.jsx)("div",{className:"pop-up-edit-delete",onClick:function(){return a()},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})}),v=c(5),x=(c(18),function(e){var t=e.addSmile,c=e.popUpSmile,a=[128512,128516,127818,127812,127871,127843,127856,127829,127828,127839,128704,128142,128506,9200,128377,128218,128049,128042,128057,128036];return Object(o.jsx)("div",{className:"wrapper-pop-up-smiles",ref:c,children:Object(v.a)(Array(20)).map((function(e,c){return Object(o.jsx)("div",{className:"smile-icon",onClick:function(){return t(a[c])},children:String.fromCodePoint(a[c])},c)}))})}),N=(c(19),function(e){var t=e.item,c=e.createPopUp;return Object(o.jsx)("div",{className:"wrapper-message",children:Object(o.jsxs)("div",{id:t.id,className:"wrapper-message-text",onClick:function(e){return c(e,t.id)},children:[Object(o.jsxs)("div",{className:"wrapper-nick-message",children:[Object(o.jsx)("div",{className:"wrapper-nick-name",children:t.nickName}),!t.isImg&&Object(o.jsx)("span",{className:"text-in-message",children:t.message}),t.isImg&&Object(o.jsx)("img",{className:"wrapper-sticker",src:t.message,alt:"sticker"})]}),Object(o.jsx)("div",{className:"wrapper-time-in-message",children:Object(o.jsx)("span",{className:"time-in-message",children:t.date})})]})})}),w=function(e){var t=e.workChatHistory,c=e.funChatHistory,a=e.createPopUp,n=e.switch\u0421hat;return Object(o.jsx)("div",{className:"wrapper-main-body",children:Object(o.jsxs)("div",{className:"wrapper-main-body-two",children:[n&&c.slice(0).reverse().map((function(e,t){return Object(o.jsx)(N,{item:e,createPopUp:a},t)})),!n&&t.slice(0).reverse().map((function(e,t){return Object(o.jsx)(N,{item:e,createPopUp:a},t)}))]})})},k=function(e){return JSON.parse(localStorage.getItem(e))},S=function(e,t){localStorage.setItem(e,JSON.stringify(t))},C=function(e,t,c,n,s,i,o){var u=Object(a.useState)(null),l=Object(r.a)(u,2),d=l[0],m=l[1],j=Object(a.useState)(null),f=Object(r.a)(j,2),p=f[0],g=f[1],b=Object(a.useState)(!1),h=Object(r.a)(b,2),O=h[0],v=h[1],x=Object(a.useState)(null),N=Object(r.a)(x,2),w=N[0],C=N[1],I=Object(a.useState)(!1),y=Object(r.a)(I,2),E=y[0],M=y[1],P=Object(a.useRef)(null),B=function(){M(!1),s.current.value=""},F=function(){e&&S("funChat",i),!e&&S("workChat",o)},U=function(t){e&&L("funChat",c,t),!e&&L("workChat",n,t)},L=function(e,t,c){localStorage.setItem(e,JSON.stringify(c)),R(e,t)},T=function(){return k(e?"funChat":"workChat")},R=function(e,t){var c=k(e);c&&t(c)};return[d,p,E,P,function(e,c){C(c),t&&document.getElementById(c).classList.remove("find-message"),m("".concat(e.nativeEvent.pageX,"px")),g("".concat(e.nativeEvent.pageY,"px")),v(!0)},O,function(){var e;v(!1),(e=T()).forEach((function(t,c){t.id!==w||e.splice(c,1)})),U(e)},B,function(){F(),M(!0),v(!1),T().forEach((function(e){!0!==e.isImg?e.id===w&&(s.current.value=e.message):M(!1)}))},function(){var e;(e=T()).forEach((function(e){e.id===w&&(e.message=s.current.value)})),U(e),B()},function(e){var t=O&&e.target!==P;t&&v(!t)}]},I=function(e){var t=Object(a.useState)(!1),c=Object(r.a)(t,2),n=c[0],s=c[1],i=Object(a.useRef)(null);return[i,n,function(e){var t=n&&e.target!==i;t&&s(!t)},function(t){e.current.value=e.current.value+String.fromCodePoint(t)},s]},y=function(){Object(a.useEffect)((function(){!e&&t()}));var e=JSON.parse(localStorage.getItem("firstLoad")),t=function(){S("funChat",c),S("workChat",n),S("firstLoad",!0)},c=[{date:"12:02",message:"\u042f \u0432\u0430\u0441 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e \ud83d\ude04",isImg:!1,id:"0",nickName:"\u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440"},{date:"12:25",message:"\u0418 \u044f \u0432\u0430\u0441 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e \ud83d\ude00",isImg:!1,id:"1",nickName:"\u041a\u043b\u0438\u043c"},{date:"20:20",message:"\u041a\u043b\u0438\u043c \u041a\u043b\u0438\u043c\u044b\u0447 \u0434\u043e\u0431\u0440\u044b\u0439 \u0432\u0435\u0447\u0435\u0440",isImg:!1,id:"2",nickName:"\u0421\u0430\u043d \u0421\u0430\u043d\u044b\u0447"}],n=[{date:"08:02",message:"\u041e\u043f\u044f\u0442\u044c \u0441\u0435\u0440\u0432\u0430\u043a \u0443\u043f\u0430\u043b",isImg:!1,id:"0",nickName:"\u0421\u0430\u043d \u0421\u0430\u043d\u044b\u0447"},{date:"12:56",message:"\u0412\u0441\u0442\u0430\u043d\u044c \u0438 \u0438\u0434\u0438",isImg:!1,id:"1",nickName:"\u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440"},{date:"20:20",message:"\u041d\u0443 \u0447\u0442\u043e \u043f\u043e\u0434\u0435\u043b\u0430\u0442\u044c",isImg:!1,id:"2",nickName:"\u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440"}];return[e,t]},E=function(e){var t=Object(a.useState)(!0),c=Object(r.a)(t,2),n=c[0],s=c[1],i=Object(a.useState)(!1),o=Object(r.a)(i,2),u=o[0],l=o[1],d=function(t,c){l(t),s(c),e()};return[n,s,function(){d(!1,!0)},function(){d(!1,!1)},l,u]},M=function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)([]),i=Object(r.a)(s,2),o=i[0],u=i[1],l=Object(a.useRef)(null),d=Object(a.useRef)(null);Object(a.useEffect)((function(){setTimeout((function(){d.current.scrollTo(0,d.current.scrollHeight)}),1)}),[]),Object(a.useEffect)((function(){m("workChat",u)}),[]),Object(a.useEffect)((function(){m("funChat",n)}),[]);var m=function(e,t){var c=k(e);c&&t(c)};return[c,o,l,d,n,u]},P=function(e){Object(a.useEffect)((function(){c()}));var t=k("firstload"),c=function(){var c=k("BackgroundImage");!t&&c&&(e.current.style.backgroundImage="url( ".concat(c," )"))};return[function(){var t=document.createElement("input");t.type="file",t.onchange=function(t){var c=t.target.files[0],a=new FileReader;a.readAsDataURL(c),a.onload=function(t){var c=t.target.result;c.includes("/png")&&(S("BackgroundImage",c),S("isBackgroundImage",!0),e.current.style.backgroundImage="url( ".concat(c," )"))}},t.click()},function(){S("BackgroundImage",""),S("isBackgroundImage",!1),e.current.style.backgroundImage="none"}]},B=function(e,t,c,n){var s=Object(a.useState)([]),i=Object(r.a)(s,2),o=i[0],u=i[1],l=Object(a.useState)([]),d=Object(r.a)(l,2),m=d[0],j=d[1],f=Object(a.useState)([]),p=Object(r.a)(f,2),g=p[0],b=p[1],h=Object(a.useState)(!1),O=Object(r.a)(h,2),v=O[0],x=O[1],N=Object(a.useRef)(null),w=function(){return k(e?"funChat":"workChat")};return[o,m,v,N,function(){n&&(c(!1),u(null),j(null),N.current.value="")},function(){if(!N.current.value)return u(null),void j(null);c(1!==N.current.value.length);var t=w();b([]),t.forEach((function(e){if(e.message.toLowerCase().includes(N.current.value.toLowerCase())){var t="...";if(!0===e.isImg)return;e.message.length<20&&(t=""),g.push({date:e.date,message:"".concat(e.message.substr(0,20)," ").concat(t),isImg:e.isImg,id:e.id,nickName:e.nickName})}})),e&&u(g),!e&&j(g)},function(e){c(!0),document.getElementById(e).scrollIntoView(),document.getElementById(e).classList.add("find-message"),x(!0),setTimeout((function(){document.getElementById(e)&&document.getElementById(e).classList.remove("find-message"),x(!1)}),2e3)},function(){Number.isInteger(t.current.value.length/64)&&(t.current.value="".concat(t.current.value,"\n"))}]},F=c.p+"static/media/sticker.f428bf1c.png",U=function(e,t,c,a,n,s,i,r,o){var u=function(e,t,c){d(e,t,!1,c.target.value)},l=function(e,t){d(e,t,!0,F)},d=function(e,t,c,a){t([].concat(Object(v.a)(e),[{date:m(),message:a,id:e.length,nickName:"\u0412\u0430\u0448\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f",isImg:c}]))},m=function(){var e=new Date,t=e.getHours(),c=e.getMinutes();return c<10&&(c="0".concat(c)),"".concat(t,":").concat(c)},j=function(){t&&S("funChat",c),!t&&S("workChat",a)};return[j,function(l){if(l.shiftKey&&l.ctrlKey)e.current.value="".concat(e.current.value,"\n");else if(j(),"Enter"===l.key){if(l.preventDefault(),!e.current.value)return;if(i)return void r();t&&u(c,n,l),!t&&u(a,s,l),o(),e.current.value=""}},function(){t&&l(c,n),!t&&l(a,s),o()}]},L=function(e){return function(){setTimeout((function(){e.current.scrollTo(0,e.current.scrollHeight)}),1)}},T=(c(20),function(){y();var e=M(),t=Object(r.a)(e,6),c=t[0],a=t[1],n=t[2],s=t[3],i=t[4],l=t[5],d=L(s),m=P(s),j=Object(r.a)(m,2),f=j[0],g=j[1],b=I(n),v=Object(r.a)(b,5),N=v[0],k=v[1],S=v[2],F=v[3],T=v[4],R=E(d),z=Object(r.a)(R,6),A=z[0],D=z[1],H=z[2],J=z[3],W=z[4],K=z[5],V=B(A,n,W,K),X=Object(r.a)(V,8),Y=X[0],q=X[1],G=X[2],Q=X[3],Z=X[4],$=X[5],_=X[6],ee=X[7],te=C(A,G,i,l,n,c,a),ce=Object(r.a)(te,11),ae=ce[0],ne=ce[1],se=ce[2],ie=ce[3],re=ce[4],oe=ce[5],ue=ce[6],le=ce[7],de=ce[8],me=ce[9],je=ce[10],fe=U(n,A,c,a,i,l,se,me,d),pe=Object(r.a)(fe,3),ge=pe[0],be=pe[1],he=pe[2];return Object(o.jsxs)("div",{className:"wrapper-main",onClick:function(e){return function(e){je(e),k&&S(e)}(e)},children:[oe&&Object(o.jsx)(O,{popUpEditRef:ie,mousePositionX:ae,mousePositionY:ne,deleteMessage:ue,editMessage:de}),Object(o.jsx)(h,{foundMessageFunChat:Y,foundMessageWorkChat:q,"switch\u0421hat":A,seeMessage:_,inputSearchRef:Q,isSearch:K,clearSearch:Z,searchMessage:$}),Object(o.jsxs)("div",{className:"wrapper-header-body",children:[Object(o.jsx)(u,{mainBodyRef:s,"switch\u0421hat":A,setIsSearch:W,setSwitchChat:D,switchChatToFun:H,switchChatToWork:J}),Object(o.jsx)("div",{className:"main-body",ref:s,children:Object(o.jsx)(w,{funChatHistory:c,workChatHistory:a,"switch\u0421hat":A,createPopUp:re})}),k&&Object(o.jsx)(x,{popUpSmile:N,addSmile:F}),Object(o.jsx)(p,{loadBackgroundImage:f,deleteBackgroundImage:g,setLocalStorage:ge,addMessage:be,statePopUpSelectSmile:k,setStatePopUpSelectSmile:T,inputMessage:n,"switch\u0421hat":A,addSticker:he,editTextState:se,closeEditor:le,"length\u0421heck":ee})]})]})}),R=(c(21),function(e){var t=e.autorizaton,c=e.setAutorizaton,n=Object(a.useState)(!1),s=Object(r.a)(n,2),i=s[0],u=s[1],l=Object(a.useState)("admin"),d=Object(r.a)(l,2),m=d[0],j=d[1],f=Object(a.useState)("admin"),p=Object(r.a)(f,2),g=p[0],b=p[1];Object(a.useEffect)((function(){var e=k("userLogin"),t=k("userPassword");e!==m&&t!==g||c(!0)}));var h=i&&!t;return Object(o.jsx)("div",{className:"wrapper-autorization",children:Object(o.jsxs)("div",{className:"box-autorization",children:[Object(o.jsx)("span",{className:"title-autorization",children:"Autorization"}),h&&Object(o.jsx)("span",{className:"message",children:"incorect login or password"}),Object(o.jsxs)("div",{className:"wrapper-login-password",children:[Object(o.jsxs)("div",{className:"wrapper-login",children:[Object(o.jsx)("span",{className:"text-autoriztion",children:"login"}),Object(o.jsx)("input",{className:"input-login",defaultValue:m,onChange:function(e){return t=e.target.value,u(!1),void j(t);var t}})]}),Object(o.jsxs)("div",{className:"wrapper-password",children:[Object(o.jsx)("span",{className:"text-autoriztion",children:"password"}),Object(o.jsx)("input",{className:"input-password",defaultValue:g,onChange:function(e){return t=e.target.value,u(!1),void b(t);var t}})]}),Object(o.jsx)("button",{className:"autorization",onClick:function(){return function(){var e="admin"===m&&"admin"===g;u(!0),e&&(S("userLogin",m),S("userPassword",g),S("entranceDone",!0),c(!0))}()},children:"login"})]})]})})}),z=(c(22),function(){var e=Object(a.useState)(!1),t=Object(r.a)(e,2),c=t[0],n=t[1];return Object(o.jsxs)("section",{className:"main-section",children:[c&&Object(o.jsx)(T,{}),!c&&Object(o.jsx)(R,{autorizaton:c,setAutorizaton:n})]})}),A=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,24)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),a(e),n(e),s(e),i(e)}))};i.a.render(Object(o.jsx)(n.a.StrictMode,{children:Object(o.jsx)(z,{})}),document.getElementById("root")),A()}],[[23,1,2]]]);
//# sourceMappingURL=main.0f715cb1.chunk.js.map