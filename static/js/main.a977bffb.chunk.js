(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),s=a(7),i=a.n(s),r=(a(12),a(2)),o=(a(13),a(0)),u=function(e){var t=e.switch\u0421hat,a=e.switchChatToFun,c=e.switchChatToWork;return Object(o.jsx)("div",{className:"wrapper-header",children:Object(o.jsxs)("div",{className:"wrapper-info-chat",children:[Object(o.jsxs)("div",{className:"header-wrapper-switch-chat",children:[Object(o.jsx)("span",{className:"icon-chats ".concat(t?"":"active-chat-button"),onClick:function(){return c()},children:"\u0420\u0430\u0431\u043e\u0447\u0438\u0439 \u0447\u0430\u0442"}),Object(o.jsx)("span",{className:"icon-chats ".concat(t?"active-chat-button":""),onClick:function(){return a()},children:"\u0424\u043b\u0443\u0434\u0438\u043b\u044c\u043d\u044f"})]}),Object(o.jsx)("div",{className:"wrapper-button-clear-storage",children:Object(o.jsx)("button",{className:"button-clear-storage",onClick:function(){return localStorage.clear(),void window.location.reload()},children:"ClearStorage"})})]})})},l=a.p+"static/media/smile.7b6c19ca.svg",d=a.p+"static/media/edit.3c70b537.svg",m=a.p+"static/media/close.c39ccb73.svg",j=a.p+"static/media/background.948c2705.svg",f=a.p+"static/media/sticker.f428bf1c.png",p=(a(15),function(e){var t=e.setLocalStorage,a=e.addMessage,c=e.inputMessage,n=e.statePopUpSelectSmile,s=e.setStatePopUpSelectSmile,i=e.addSticker,r=e.editTextState,u=e.closeEditor,p=e.loadBackgroundImage,h=e.deleteBackgroundImage,g=e.length\u0421heck;return Object(o.jsxs)("div",{className:"wrapper-footer",children:[Object(o.jsxs)("div",{className:"wrapper-icon-for-backgrond-image",children:[Object(o.jsx)("div",{className:"wrapper-icon-edit-delete",children:Object(o.jsx)("img",{src:j,className:"icon-footer",alt:"iconAddFiles",onClick:function(){return p()}})}),Object(o.jsx)("div",{className:"wrapper-icon-edit-delete",children:Object(o.jsx)("img",{onClick:function(){return h()},src:m,className:"icon-close",alt:"iconAddFiles"})})]}),Object(o.jsx)("div",{className:"wrapper-text-area-message",children:Object(o.jsx)("textarea",{ref:c,onChange:function(e){return g()},onKeyDown:function(e){return a(e)},className:"text-area-message",placeholder:"Write a message"})}),r&&Object(o.jsxs)("div",{clasname:"wrapper-icon-for-edit",children:[Object(o.jsx)("div",{className:"wrapper-icon-edit-delete",children:Object(o.jsx)("img",{src:d,className:"icon-edit",alt:"iconAddFiles"})}),Object(o.jsx)("div",{className:"wrapper-icon-edit-delete",children:Object(o.jsx)("img",{onClick:function(){return u()},src:m,className:"icon-close",alt:"iconAddFiles"})})]}),Object(o.jsx)("div",{className:"wrapper-icon-footer",children:Object(o.jsx)("img",{onClick:function(){return s(!n)},src:l,title:"smiles",className:"icon-footer",alt:"iconAddFiles"})}),Object(o.jsx)("div",{className:"wrapper-icon-footer",children:Object(o.jsx)("img",{onMouseDown:function(){return i()},onMouseUp:function(){return t()},title:"sticker",src:f,className:"icon-footer",alt:"iconAddFiles"})})]})}),h=a.p+"static/media/search.e8a11f28.svg",g=a.p+"static/media/close.c39ccb73.svg",b=(a(16),function(e){var t=e.inputSearchRef,a=e.searchMessage,c=e.isSearch,n=e.clearSearch,s=e.switch\u0421hat,i=e.foundMessageFunChat,r=e.foundMessageWorkChat,u=e.seeMessage;return Object(o.jsxs)("div",{className:"wrapper-aside",children:[Object(o.jsxs)("div",{className:"wrapper-search-input-icon",children:[Object(o.jsx)("input",{className:"input-search",ref:t,onChange:function(e){return a(e)}}),Object(o.jsx)("div",{className:"wraper-search-icon",children:Object(o.jsx)("img",{src:c?g:h,className:c?"close-icon-search":"icon-search",alt:"iconSearch",onClick:function(){return n()}})})]}),Object(o.jsxs)("div",{className:"wrapper-find-message",children:[s&&!!i&&i.map((function(e,t){return Object(o.jsxs)("div",{className:"wrapper-found-message",onClick:function(t){return u(e.id)},children:[Object(o.jsxs)("div",{className:"wrapper-find-message-nick-name",children:[Object(o.jsx)("div",{className:"wrapper-find-nick-name",children:e.nickName}),Object(o.jsx)("div",{className:"wrapper-find-text-message",children:e.message})]}),Object(o.jsx)("div",{className:"wrapper-time",children:e.date})]},t)})),!s&&!!r&&r.map((function(e,t){return Object(o.jsxs)("div",{className:"wrapper-found-message",onClick:function(t){return u(e.id)},children:[Object(o.jsxs)("div",{className:"wrapper-find-message-nick-name",children:[Object(o.jsx)("div",{className:"wrapper-find-nick-name",children:e.nickName}),Object(o.jsx)("div",{className:"wrapper-find-text-message",children:e.message})]}),Object(o.jsx)("div",{className:"wrapper-time",children:e.date})]},t)}))]})]})}),O=(a(17),function(e){var t=e.mousePositionX,a=e.mousePositionY,c=e.deleteMessage,n=e.editMessage,s=e.popUpEditRef;return Object(o.jsxs)("div",{className:"wrapper-pop-up",ref:s,style:{top:"".concat(parseInt(a)-100,"px"),left:t},children:[Object(o.jsx)("div",{className:"pop-up-edit-delete",onClick:function(){return n()},children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(o.jsx)("div",{className:"pop-up-edit-delete",onClick:function(){return c()},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})}),v=a(5),x=(a(18),function(e){var t=e.addSmile,a=e.popUpSmile,c=[128512,128516,127818,127812,127871,127843,127856,127829,127828,127839,128704,128142,128506,9200,128377,128218,128049,128042,128057,128036];return Object(o.jsx)("div",{className:"wrapper-pop-up-smiles",ref:a,children:Object(v.a)(Array(20)).map((function(e,a){return Object(o.jsx)("div",{className:"smile-icon",onClick:function(){return t(c[a])},children:String.fromCodePoint(c[a])},a)}))})}),w=(a(19),function(e){var t=e.item,a=e.createPopUp;return Object(o.jsx)("div",{className:"wrapper-message",children:Object(o.jsxs)("div",{id:t.id,className:"wrapper-message-text",onClick:function(e){return a(e,t.id)},children:[Object(o.jsxs)("div",{className:"wrapper-nick-message",children:[Object(o.jsx)("div",{className:"wrapper-nick-name",children:t.nickName}),!t.isImg&&Object(o.jsx)("span",{className:"text-in-message",children:t.message}),t.isImg&&Object(o.jsx)("img",{className:"wrapper-sticker",src:t.message,alt:"sticker"})]}),Object(o.jsx)("div",{className:"wrapper-time-in-message",children:Object(o.jsx)("span",{className:"time-in-message",children:t.date})})]})})}),N=function(e){var t=e.workChatHistory,a=e.funChatHistory,c=e.createPopUp,n=e.switch\u0421hat;return Object(o.jsxs)("div",{className:"wrapper-main-body",children:[n&&a.map((function(e,t){return Object(o.jsx)(w,{item:e,createPopUp:c},t)})),!n&&t.map((function(e,t){return Object(o.jsx)(w,{item:e,createPopUp:c},t)}))]})},k=function(e){return JSON.parse(localStorage.getItem(e))},C=function(e,t){localStorage.setItem(e,JSON.stringify(t))},S=function(e){var t=e.switch\u0421hat,a=e.setFunChatHistory,n=e.setWorkChatHistory,s=e.inputMessage,i=e.funChatHistory,o=e.workChatHistory,u=Object(c.useState)(null),l=Object(r.a)(u,2),d=l[0],m=l[1],j=Object(c.useState)(null),f=Object(r.a)(j,2),p=f[0],h=f[1],g=Object(c.useState)(!1),b=Object(r.a)(g,2),O=b[0],v=b[1],x=Object(c.useState)(null),w=Object(r.a)(x,2),N=w[0],C=w[1],S=Object(c.useState)(!1),y=Object(r.a)(S,2),I=y[0],M=y[1],B=Object(c.useRef)(null),E=function(){M(!1),s.current.value=""},H=function(){t&&localStorage.setItem("funChat",JSON.stringify(i)),!t&&localStorage.setItem("workChat",JSON.stringify(o))},F=function(e){t&&P("funChat",a,e),!t&&P("workChat",n,e)},P=function(e,t,a){localStorage.setItem(e,JSON.stringify(a)),T(e,t)},R=function(){return k(t?"funChat":"workChat")},T=function(e,t){var a=JSON.parse(localStorage.getItem(e));a&&t(a)};return[d,p,I,B,function(e,t){C(t),document.getElementById(t).classList.remove("find-message"),m("".concat(e.nativeEvent.pageX,"px")),h("".concat(e.nativeEvent.pageY,"px")),v(!0)},O,function(){var e;v(!1),(e=R()).forEach((function(t,a){t.id!==N||e.splice(a,1)})),F(e)},E,function(){H(),M(!0),v(!1),R().forEach((function(e){!0!==e.isImg?e.id===N&&(s.current.value=e.message):M(!1)}))},function(){var e;(e=R()).forEach((function(e){e.id===N&&(e.message=s.current.value)})),F(e),E()},function(e){O&&e.target!==B&&v(!1)}]},y=function(e){var t=e.inputMessage,a=Object(c.useState)(!1),n=Object(r.a)(a,2),s=n[0],i=n[1],o=Object(c.useRef)(null);return[o,s,function(e){var t=s&&e.target!==o;t&&i(!t)},function(e){t.current.value=t.current.value+String.fromCodePoint(e)},i]},I=function(){Object(c.useEffect)((function(){!e&&t()}));var e=JSON.parse(localStorage.getItem("firstLoad")),t=function(){C("funChat",a),C("workChat",n),C("firstLoad",!0)},a=[{date:"12:02",message:"\u042f \u0432\u0430\u0441 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e \ud83d\ude04",isImg:!1,id:"0",nickName:"\u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440"},{date:"12:25",message:"\u0418 \u044f \u0432\u0430\u0441 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e \ud83d\ude00",isImg:!1,id:"1",nickName:"\u041a\u043b\u0438\u043c"},{date:"20:20",message:"\u041a\u043b\u0438\u043c \u041a\u043b\u0438\u043c\u044b\u0447 \u0434\u043e\u0431\u0440\u044b\u0439 \u0432\u0435\u0447\u0435\u0440",isImg:!1,id:"2",nickName:"\u0421\u0430\u043d \u0421\u0430\u043d\u044b\u0447"}],n=[{date:"08:02",message:"\u041e\u043f\u044f\u0442\u044c \u0441\u0435\u0440\u0432\u0430\u043a \u0443\u043f\u0430\u043b",isImg:!1,id:"0",nickName:"\u0421\u0430\u043d \u0421\u0430\u043d\u044b\u0447"},{date:"12:56",message:"\u0412\u0441\u0442\u0430\u043d\u044c \u0438 \u0438\u0434\u0438",isImg:!1,id:"1",nickName:"\u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440"},{date:"20:20",message:"\u041d\u0443 \u0447\u0442\u043e \u043f\u043e\u0434\u0435\u043b\u0430\u0442\u044c",isImg:!1,id:"2",nickName:"\u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440"}];return[e,t]},M=function(e){var t=e.scrollToBottom,a=Object(c.useState)(!0),n=Object(r.a)(a,2),s=n[0],i=n[1],o=Object(c.useState)(!1),u=Object(r.a)(o,2),l=u[0],d=u[1];return[s,i,function(){d(!1),i(!0),t()},function(){d(!1),i(!1),t()},d,l]},B=function(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)([]),i=Object(r.a)(s,2),o=i[0],u=i[1],l=Object(c.useRef)(null),d=Object(c.useRef)(null);Object(c.useEffect)((function(){m("workChat",u)}),[]),Object(c.useEffect)((function(){m("funChat",n)}),[]);var m=function(e,t){var a=k(e);a&&t(a)};return[a,o,l,d,n,u]},E=function(e){var t=e.mainBodyRef;Object(c.useEffect)((function(){n()}));var a=k("firstload"),n=function(){var e=k("BackgroundImage");!a&&e&&(t.current.style.backgroundImage="url( ".concat(e," )"))};return[function(){var e=document.createElement("input");e.type="file",e.onchange=function(e){var a=e.target.files[0],c=new FileReader;c.readAsDataURL(a),c.onload=function(e){var a=e.target.result;a.includes("/png")&&(C("BackgroundImage",a),C("isBackgroundImage",!0),t.current.style.backgroundImage="url( ".concat(a," )"))}},e.click()},function(){C("BackgroundImage",""),C("isBackgroundImage",!1),t.current.style.backgroundImage="none"}]},H=function(e){var t=e.switch\u0421hat,a=e.inputMessage,n=e.setIsSearch,s=e.isSearch,i=Object(c.useState)([]),o=Object(r.a)(i,2),u=o[0],l=o[1],d=Object(c.useState)([]),m=Object(r.a)(d,2),j=m[0],f=m[1],p=Object(c.useState)([]),h=Object(r.a)(p,2),g=h[0],b=h[1],O=Object(c.useRef)(null),v=function(){return k(t?"funChat":"workChat")};return[u,j,O,function(){s&&(n(!1),l(null),f(null),O.current.value="")},function(){if(!O.current.value)return l(null),void f(null);n(!(1===O.current.value.length));var e=v();b([]),e.forEach((function(e){if(e.message.toLowerCase().includes(O.current.value.toLowerCase())){var t="...";if(!0===e.isImg)return;e.message.length<20&&(t=""),g.push({date:e.date,message:"".concat(e.message.substr(0,20)," ").concat(t),isImg:e.isImg,id:e.id,nickName:e.nickName})}})),t&&l(g),!t&&f(g)},function(e){n(!0),document.getElementById(e).scrollIntoView(),document.getElementById(e).classList.add("find-message"),setTimeout((function(){document.getElementById(e)&&document.getElementById(e).classList.remove("find-message")}),2e3)},function(){Number.isInteger(a.current.value.length/64)&&(a.current.value="".concat(a.current.value,"\n"))}]},F=a.p+"static/media/sticker.f428bf1c.png",P=function(e){var t=e.inputMessage,a=e.switch\u0421hat,c=e.funChatHistory,n=e.workChatHistory,s=e.setFunChatHistory,i=e.setWorkChatHistory,r=e.editTextState,o=e.editerMessage,u=e.scrollToBottom,l=function(e,t,a,c){m(e,t,!1,c.target.value)},d=function(e,t){m(e,t,!0,F)},m=function(e,t,a,c){t([].concat(Object(v.a)(e),[{date:j(),message:c,id:e.length,nickName:"\u0412\u0430\u0448\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f",isImg:a}]))},j=function(){var e=new Date,t=e.getHours(),a=e.getMinutes();return a<10&&(a="0".concat(a)),"".concat(t,":").concat(a)},f=function(){a&&C("funChat",c),!a&&C("workChat",n)};return[f,function(e){if(e.shiftKey&&e.ctrlKey)t.current.value="".concat(t.current.value,"\n");else if(f(),"Enter"===e.key){if(e.preventDefault(),!t.current.value)return;if(r)return void o();a&&l(c,s,"funChat",e),!a&&l(n,i,"workChat",e),u(),t.current.value=""}},function(){a&&d(c,s,"funChat"),!a&&d(n,i,"workChat"),u()}]},R=function(e){var t=e.mainBodyRef;Object(c.useEffect)((function(){a()}));var a=function(){setTimeout((function(){t.current.scrollTo(0,t.current.scrollHeight)}),1)};return[a]},T=(a(20),function(){I();var e=B(),t=Object(r.a)(e,6),a=t[0],c=t[1],n=t[2],s=t[3],i=t[4],l=t[5],d=R({mainBodyRef:s}),m=Object(r.a)(d,1)[0],j=E({mainBodyRef:s}),f=Object(r.a)(j,2),h=f[0],g=f[1],v=y({inputMessage:n}),w=Object(r.a)(v,5),k=w[0],C=w[1],F=w[2],T=w[3],U=w[4],L=M({scrollToBottom:m}),z=Object(r.a)(L,6),A=z[0],J=z[1],W=z[2],D=z[3],K=z[4],V=z[5],X=H({"switch\u0421hat":A,inputMessage:n,setIsSearch:K,isSearch:V}),Y=Object(r.a)(X,7),q=Y[0],G=Y[1],Q=Y[2],Z=Y[3],$=Y[4],_=Y[5],ee=Y[6],te=S({"switch\u0421hat":A,setFunChatHistory:i,setWorkChatHistory:l,inputMessage:n,funChatHistory:a,workChatHistory:c}),ae=Object(r.a)(te,11),ce=ae[0],ne=ae[1],se=ae[2],ie=ae[3],re=ae[4],oe=ae[5],ue=ae[6],le=ae[7],de=ae[8],me=ae[9],je=ae[10],fe=P({inputMessage:n,"switch\u0421hat":A,funChatHistory:a,workChatHistory:c,setFunChatHistory:i,setWorkChatHistory:l,editTextState:se,editerMessage:me,mainBodyRef:s,scrollToBottom:m}),pe=Object(r.a)(fe,3),he=pe[0],ge=pe[1],be=pe[2];return Object(o.jsxs)("div",{className:"wrapper-main",onClick:function(e){return function(e){je(e),C&&F(e)}(e)},children:[oe&&Object(o.jsx)(O,{popUpEditRef:ie,mousePositionX:ce,mousePositionY:ne,deleteMessage:ue,editMessage:de}),Object(o.jsx)(b,{foundMessageFunChat:q,foundMessageWorkChat:G,"switch\u0421hat":A,seeMessage:_,inputSearchRef:Q,isSearch:V,clearSearch:Z,searchMessage:$}),Object(o.jsxs)("div",{className:"wrapper-header-body",children:[Object(o.jsx)(u,{mainBodyRef:s,"switch\u0421hat":A,setIsSearch:K,setSwitchChat:J,switchChatToFun:W,switchChatToWork:D}),Object(o.jsx)("div",{className:"main-body",ref:s,children:Object(o.jsx)(N,{funChatHistory:a,workChatHistory:c,"switch\u0421hat":A,createPopUp:re})}),C&&Object(o.jsx)(x,{popUpSmile:k,addSmile:T}),Object(o.jsx)(p,{loadBackgroundImage:h,deleteBackgroundImage:g,setLocalStorage:he,addMessage:ge,statePopUpSelectSmile:C,setStatePopUpSelectSmile:U,inputMessage:n,"switch\u0421hat":A,addSticker:be,editTextState:se,closeEditor:le,"length\u0421heck":ee})]})]})}),U=(a(21),function(e){var t=e.autorizaton,a=e.setAutorizaton,n=Object(c.useState)(!1),s=Object(r.a)(n,2),i=s[0],u=s[1],l=Object(c.useState)("admin"),d=Object(r.a)(l,2),m=d[0],j=d[1],f=Object(c.useState)("admin"),p=Object(r.a)(f,2),h=p[0],g=p[1];Object(c.useEffect)((function(){var e=k("userLogin"),t=k("userPassword");e!==m&&t!==h||a(!0)}));var b=i&&!t;return Object(o.jsx)("div",{className:"wrapper-autorization",children:Object(o.jsxs)("div",{className:"box-autorization",children:[Object(o.jsx)("span",{className:"title-autorization",children:"Autorization"}),b&&Object(o.jsx)("span",{className:"message",children:"incorect login or password"}),Object(o.jsxs)("div",{className:"wrapper-login-password",children:[Object(o.jsxs)("div",{className:"wrapper-login",children:[Object(o.jsx)("span",{className:"text-autoriztion",children:"login"}),Object(o.jsx)("input",{className:"input-login",defaultValue:m,onChange:function(e){return t=e.target.value,u(!1),void j(t);var t}})]}),Object(o.jsxs)("div",{className:"wrapper-password",children:[Object(o.jsx)("span",{className:"text-autoriztion",children:"password"}),Object(o.jsx)("input",{className:"input-password",defaultValue:h,onChange:function(e){return t=e.target.value,u(!1),void g(t);var t}})]}),Object(o.jsx)("button",{className:"autorization",onClick:function(){return function(){var e="admin"===m&&"admin"===h;u(!0),e&&(C("userLogin",m),C("userPassword",h),C("entranceDone",!0),a(!0))}()},children:"login"})]})]})})}),L=(a(22),function(){var e=Object(c.useState)(!1),t=Object(r.a)(e,2),a=t[0],n=t[1];return Object(o.jsxs)("section",{className:"main-section",children:[a&&Object(o.jsx)(T,{}),!a&&Object(o.jsx)(U,{autorizaton:a,setAutorizaton:n})]})}),z=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,24)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),c(e),n(e),s(e),i(e)}))};i.a.render(Object(o.jsx)(n.a.StrictMode,{children:Object(o.jsx)(L,{})}),document.getElementById("root")),z()}],[[23,1,2]]]);
//# sourceMappingURL=main.a977bffb.chunk.js.map